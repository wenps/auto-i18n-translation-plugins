{"version":3,"file":"index.mjs","sources":["../../../node_modules/.pnpm/@rollup+plugin-typescript@11.1.6_rollup@4.20.0_tslib@2.6.3_typescript@5.5.4/node_modules/tslib/tslib.es6.js","../src/enums/language.ts","../src/enums/translate.ts","../src/translator/translator.ts","../src/translator/google.ts","../src/translator/youdao.ts","../src/utils/option.ts","../src/constants/translate.ts","../src/utils/base.ts","../src/option.ts","../src/utils/json.ts","../src/utils/file.ts","../src/utils/translate.ts","../src/utils/chunk.ts","../src/filter/visitor/StringLiteral.ts","../src/filter/visitor/CallExpression.ts","../src/filter/visitor/TemplateElement.ts","../src/filter/visitor/JSXText.ts","../src/filter/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","/*\n * @Author: xiaoshanwen\n * @Date: 2024-03-11 18:59:10\n * @LastEditTime: 2024-04-07 19:40:33\n * @FilePath: /i18n_translation_vite/autoI18nPluginCore/src/enums/language.ts\n */\n// å¾…è¡¥å……...\nexport enum LanguageEnum {}\n\nexport enum OriginLangKeyEnum {\n    ZH = 'zh-cn',\n    EN = 'en'\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2024-04-03 18:12:45\n * @LastEditTime: 2024-04-03 18:33:53\n * @FilePath: /i18n_translation_vite/autoI18nPluginCore/src/enums/translate.ts\n */\nexport enum TranslateApiEnum {\n    google = 'Google',\n    youdao = 'Youdao'\n}\n","export interface TranslatorOption {\n    /** å®é™…çš„è¯·æ±‚æ–¹æ³• */\n    fetchMethod: (text: string, fromKey: string, toKey: string) => Promise<string>\n    name?: string\n    /** æ‰§è¡Œé—´éš”ï¼ˆé»˜è®¤ä¸å¼€å¯ï¼‰ */\n    interval?: number\n}\n\nclass IntervalQueue<T extends any[], U extends any> {\n    private delay: number\n    private timeout: number | undefined\n    private fn: (...args: T) => U\n\n    /**\n     * é—´éš”æ‰§è¡Œé˜Ÿåˆ—\n     * @param fn æ‰§è¡Œå‡½æ•°\n     * @param delay æ‰§è¡Œé—´éš”\n     * @param timeout è¶…æ—¶æ—¶é—´\n     */\n    constructor(fn: (...args: T) => U, delay: number, timeout?: number) {\n        this.fn = fn\n        this.delay = delay\n        this.timeout = timeout\n    }\n\n    private queue: {\n        args: T\n        resolve: (value: Awaited<U>) => void\n        reject: (reason?: any) => void\n    }[] = []\n    execute(...args: T) {\n        return new Promise<Awaited<U>>((resolve, reject) => {\n            this.queue.push({ args, resolve, reject })\n            this.run()\n            if (this.timeout) {\n                setTimeout(() => {\n                    reject(new Error('IntervalQueue timeout'))\n                }, this.timeout)\n            }\n        })\n    }\n\n    private async wait(delay = this.delay) {\n        await new Promise(resolve => setTimeout(resolve, delay))\n    }\n\n    private isRunning = false\n    private async run() {\n        if (this.isRunning) return\n        let item: (typeof this.queue)[number] | undefined\n        while ((item = this.queue.shift())) {\n            const { args, resolve, reject } = item\n            this.isRunning = true\n            try {\n                resolve(await this.fn(...args))\n            } catch (e) {\n                reject(e)\n            }\n            await this.wait()\n        }\n        this.isRunning = false\n    }\n}\n\nconst interval = <T extends unknown[], U extends unknown>(fn: (...args: T) => U, delay: number) => {\n    const queue = new IntervalQueue(fn.bind(null), delay)\n    return (...args: T) => {\n        return queue.execute(...args)\n    }\n}\n\nexport class Translator {\n    protected option: TranslatorOption\n\n    constructor(option: TranslatorOption) {\n        this.option = option\n        if (this.option.interval) {\n            this.option.fetchMethod = interval(this.option.fetchMethod, this.option.interval)\n        }\n    }\n\n    protected getErrorMessage(error: unknown) {\n        if (error instanceof Error) {\n            return error.message\n        } else {\n            return String(error)\n        }\n    }\n\n    async translate(text: string, fromKey: string, toKey: string) {\n        let result = ''\n        try {\n            result = await this.option.fetchMethod(text, fromKey, toKey)\n        } catch (error) {\n            const name = this.option.name\n            console.error(\n                `ç¿»è¯‘api${name ? `ã€${name}ã€‘` : ''}è¯·æ±‚å¼‚å¸¸ï¼š${this.getErrorMessage(error)}`\n            )\n        }\n        return result\n    }\n}\n","import { translate } from '@vitalets/google-translate-api'\nimport { Translator } from './translator'\nimport tunnel from 'tunnel'\n\nexport interface GoogleTranslatorOption {\n    proxyOption: tunnel.ProxyOptions\n}\n\nexport class GoogleTranslator extends Translator {\n    constructor(option: GoogleTranslatorOption) {\n        super({\n            name: 'Googleç¿»è¯‘',\n            fetchMethod: async (text, fromKey, toKey) => {\n                let data = await translate(text, {\n                    from: fromKey,\n                    to: toKey,\n                    fetchOptions: {\n                        agent: tunnel.httpsOverHttp({\n                            proxy: option.proxyOption\n                        })\n                    }\n                })\n                return data['text'] || ''\n            }\n        })\n    }\n}\n","import axios, { AxiosProxyConfig } from 'axios'\nimport { Translator } from './translator'\nimport CryptoJS from 'crypto-js'\n\nexport interface YoudaoTranslatorOption {\n    appId: string\n    appKey: string\n    proxy?: AxiosProxyConfig\n    /** ç¿»è¯‘apiæ‰§è¡Œé—´éš”ï¼Œé»˜è®¤ä¸º1000 */\n    interval?: number\n}\n\nexport class YoudaoTranslator extends Translator {\n    /** æœ‰é“çš„è¯­è¨€ç±»å‹æ˜ å°„ä¸æ ‡å‡†ï¼Œéœ€è¦æ‰‹åŠ¨æ§åˆ¶ */\n    private readonly YOUDAO_TRANSLATE_KEY_CONVERT_MAP: Record<string, string> = {\n        'zh-cn': 'zh-CHS',\n        'zh-tw': 'zh-CHT'\n    }\n\n    private truncate(q: string) {\n        // æ£€æŸ¥è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦\n        if (q.length <= 20) {\n            // å¦‚æœé•¿åº¦å°äºç­‰äº20ï¼Œç›´æ¥è¿”å›åŸå­—ç¬¦ä¸²\n            return q\n        } else {\n            // å¦‚æœé•¿åº¦å¤§äº20ï¼Œæˆªå–å‰10ä¸ªå­—ç¬¦å’Œå10ä¸ªå­—ç¬¦ï¼Œå¹¶åœ¨ä¸­é—´æ’å…¥é•¿åº¦ä¿¡æ¯\n            const len = q.length\n            return q.substring(0, 10) + len + q.substring(len - 10)\n        }\n    }\n\n    private getTranslateKey(key: string) {\n        return this.YOUDAO_TRANSLATE_KEY_CONVERT_MAP[key] || key\n    }\n\n    constructor(option: YoudaoTranslatorOption) {\n        super({\n            name: 'æœ‰é“ç¿»è¯‘',\n            fetchMethod: async (text, fromKey, toKey) => {\n                let salt = new Date().getTime()\n                let curTime = Math.round(new Date().getTime() / 1000)\n                let str = option.appId + this.truncate(text) + salt + curTime + option.appKey\n                let sign = CryptoJS.SHA256(str).toString(CryptoJS.enc.Hex)\n\n                const data = {\n                    q: text,\n                    appKey: option.appId,\n                    salt,\n                    from: this.getTranslateKey(fromKey),\n                    to: this.getTranslateKey(toKey),\n                    sign,\n                    signType: 'v3',\n                    curtime: curTime\n                }\n                const response = await axios.post('https://openapi.youdao.com/api', data, {\n                    headers: {\n                        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n                    },\n                    proxy: option.proxy\n                })\n                // è¯·æ±‚æˆåŠŸï¼Œè¿”å›å“åº”æ•°æ®\n                return response.data.translation?.[0] || ''\n            },\n            interval: option.interval ?? 1000\n        })\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2024-02-29 14:44:18\n * @LastEditTime: 2024-03-01 11:42:34\n * @FilePath: /i18n_translation_vite/autoI18nPluginCore/src/utils/option.ts\n */\nimport { FunctionFactoryOptions } from '../types'\n\nexport class FunctionFactoryOption {\n    static originLang: string = ''\n}\n\nexport const functionFactory = (\n    fn: (path: string, options: FunctionFactoryOptions) => void,\n    options: FunctionFactoryOptions\n) => {\n    return (path: any) => {\n        fn(path, options)\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2024-04-06 15:47:14\n * @LastEditTime: 2024-04-07 19:40:36\n * @FilePath: /i18n_translation_vite/autoI18nPluginCore/src/constants/translate.ts\n */\nimport { OriginLangKeyEnum } from 'src/enums/language'\n\nexport const REGEX_MAP = {\n    [OriginLangKeyEnum.ZH]: /[\\u4e00-\\u9fff]/,\n    [OriginLangKeyEnum.EN]: /[a-zA-Z]/\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-11 10:01:43\n * @LastEditTime: 2025-02-14 17:58:22\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/base.ts\n */\nimport { Node } from '@babel/types'\nimport types from '@babel/types'\nimport { option } from '../option'\nimport { FunctionFactoryOption } from './option'\nimport { REGEX_MAP } from 'src/constants'\nimport { OriginLangKeyEnum } from 'src/enums'\n\n/**\n * @description: æ˜¯å¦åŒ…å«æ¥æºè¯­è¨€å­—ç¬¦\n * @param {string} code\n * @return {*}\n */\nexport function hasOriginSymbols(code: string) {\n    const originLang = FunctionFactoryOption.originLang as OriginLangKeyEnum\n    return REGEX_MAP[originLang].test(code)\n}\n\n/**\n * @description: è¿‡æ»¤æ³¨é‡Š\n * @param {string} code\n * @return {*}\n */\nexport const removeComments = function (code: string) {\n    // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¹¶åˆ é™¤å•è¡Œæ³¨é‡Š\n    code = code.replace(/\\/\\/.*?\\n/g, '')\n    // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¹¶åˆ é™¤å¤šè¡Œæ³¨é‡Š\n    code = code.replace(/\\/\\*[\\s\\S]*?\\*\\//g, '')\n    // ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å¹¶åˆ é™¤HTMLæ³¨é‡Š\n    code = code.replace(/<!--[\\s\\S]*?-->/g, '')\n    return code\n}\n\n/**\n * @description: ç”¨äºåˆ¤æ–­æä¾›çš„å€¼æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼æ•°ç»„ä¸­çš„ä»»ä¸€è§„åˆ™ï¼Œç¬¦åˆåˆ™è·³è¿‡\n * @param {*} value\n * @param {*} regexArray\n * @return {*}\n */\nexport function checkAgainstRegexArray(value: string, regexArray: string[] | RegExp[]) {\n    for (let i = 0; i < regexArray.length; i++) {\n        const regex = typeof regexArray[i] === 'string' ? new RegExp(regexArray[i]) : regexArray[i]\n        if ((regex as RegExp).test(value)) {\n            return true // å¦‚æœç¬¦åˆä»»ä½•ä¸€ä¸ªè§„åˆ™ï¼Œè¿”å› true\n        }\n    }\n    return false // å¦‚æœæ‰€æœ‰è§„åˆ™éƒ½ä¸ç¬¦åˆï¼Œè¿”å› false\n}\n\n/**\n * @description: ç”¨äºè§£ææŠ½è±¡è¯­æ³•æ ‘ä¸­çš„è°ƒç”¨è¡¨è¾¾å¼ï¼Œå¹¶æå–å‡ºè°ƒç”¨çš„åç§°ï¼Œå¦‚a.b.c() å– cã€‚\n * @param {any} node\n * @return {*}\n */\nexport function extractFunctionName(node: Node): string {\n    let callName = ''\n    function callObjName(callObj: any, name: string): string {\n        name += '.' + (callObj.property as any).name\n        if (types.isMemberExpression(callObj.object)) {\n            // isMemberExpressionï¼š æ˜¯å¦æ˜¯æˆå‘˜è¡¨è¾¾å¼\n            return callObjName(callObj.object, name)\n        }\n        name = (callObj.object as any).name + name\n        return name\n    }\n    if (types.isCallExpression(node)) {\n        // isCallExpressionï¼š æ˜¯å¦æ˜¯è°ƒç”¨è¡¨è¾¾å¼\n        if (types.isMemberExpression((node as any).callee)) {\n            callName = callObjName((node as any).callee, '')\n        } else {\n            callName = ((node as any).callee as any).name || ''\n        }\n    }\n    return callName\n}\n\n/**\n * @description: æå–æ–‡ä»¶çš„ä¸­æ–‡éƒ¨åˆ†\n * @param {string} fileContent\n * @return {*}\n */\nexport const extractCnStrings = (fileContent: string) => {\n    const regex = /[^\\x00-\\xff]+/g\n    return extractStrings(fileContent, regex)\n}\n\n/**\n * @description: æå–æ–‡ä»¶æŒ‡å®šéƒ¨åˆ†å†…å®¹\n * @param {string} fileContent\n * @param {any} regex\n * @return {*}\n */\nexport function extractStrings(fileContent: string, regex: any) {\n    const matches = fileContent.match(regex)\n    return matches ? matches.filter((item, index) => matches.indexOf(item) === index) : []\n}\n\n/**\n * @description: ç”Ÿæˆi8nç¿»è¯‘å‡½æ•°\n * @param {string} value\n * @param {boolean} isExpression\n * @param {string} key\n * @return {*}\n */\nexport function createI18nTranslator(value: string, isExpression?: boolean, key?: string): any {\n    const nameSpace = option.namespace\n    const trimmedValue = value.trim()\n    const valStr = trimmedValue.replace(/'/g, '\"').replace(/(\\n)/g, '\\\\n')\n    const generatedKey = key || generateId(valStr)\n    if (isExpression) {\n        const valueExp = types.stringLiteral(trimmedValue)\n        valueExp.extra = {\n            raw: `'${valStr}'`, // é˜²æ­¢è½¬ç ä¸ºunicode\n            rawValue: trimmedValue\n        }\n        return types.callExpression(types.identifier(option.translateKey), [\n            types.stringLiteral(generatedKey),\n            valueExp,\n            types.stringLiteral(nameSpace)\n        ])\n    } else {\n        return `${option.translateKey}('${generatedKey}','${valStr}','${nameSpace}')`\n    }\n}\n\n/**\n * @description: ç”Ÿæˆå”¯ä¸€id\n * @param {string} key\n * @return {*}\n */\nexport function generateId(key: string) {\n    let hash = 0\n    for (let i = 0; i < key.length; i++) {\n        const charCode = key.charCodeAt(i)\n        hash = (hash << 5) - hash + charCode\n        hash = hash & hash\n    }\n    const id = Math.abs(hash).toString(36) + key.length.toString(36)\n    return id\n}\n\n/**\n * @description: unicodeè½¬ä¸­æ–‡\n * @param {string} str\n * @return {*}\n */\nexport const unicodeToChinese = (str: string) => {\n    return str.replace(/\\\\u[\\dA-Fa-f]{4}/g, (match: any) => {\n        return String.fromCharCode(parseInt(match.replace(/\\\\u/g, ''), 16))\n    })\n}\n\n/**\n * @description: æœ‰é“ç¿»è¯‘ æ ‡è¯†æˆªå–\n * @param {string} q\n * @return {*}\n */\nexport function truncate(q: string) {\n    // æ£€æŸ¥è¾“å…¥å­—ç¬¦ä¸²çš„é•¿åº¦\n    if (q.length <= 20) {\n        // å¦‚æœé•¿åº¦å°äºç­‰äº20ï¼Œç›´æ¥è¿”å›åŸå­—ç¬¦ä¸²\n        return q\n    } else {\n        // å¦‚æœé•¿åº¦å¤§äº20ï¼Œæˆªå–å‰10ä¸ªå­—ç¬¦å’Œå10ä¸ªå­—ç¬¦ï¼Œå¹¶åœ¨ä¸­é—´æ’å…¥é•¿åº¦ä¿¡æ¯\n        const len = q.length\n        return q.substring(0, 10) + len + q.substring(len - 10)\n    }\n}\n\n// å¯¼å‡ºä¸€ä¸ªæ·±æ‹·è´å‡½æ•°ï¼Œç”¨äºå…‹éš†å¯¹è±¡\nexport function cloneDeep<T>(value: T, cache: WeakMap<object, any> = new WeakMap()): T {\n    // å¤„ç†åŸºæœ¬ç±»å‹å’Œ null\n    if (typeof value !== 'object' || value === null) {\n        return value\n    }\n\n    // å¤„ç†å¾ªç¯å¼•ç”¨\n    if (cache.has(value)) {\n        return cache.get(value)\n    }\n\n    // å¤„ç†ç‰¹æ®Šå¯¹è±¡ç±»å‹\n    if (value instanceof Date) {\n        return new Date(value) as T\n    }\n\n    if (value instanceof RegExp) {\n        return new RegExp(value.source, value.flags) as T\n    }\n\n    // åˆå§‹åŒ–å…‹éš†å®¹å™¨\n    const clone: any = Array.isArray(value) ? [] : {}\n\n    // ç¼“å­˜å¯¹è±¡é˜²æ­¢å¾ªç¯å¼•ç”¨\n    cache.set(value, clone)\n\n    // å¤„ç† Symbol å’Œæ™®é€šé”®çš„æšä¸¾\n    const keys = [\n        ...Object.keys(value),\n        ...Object.getOwnPropertySymbols(value).filter(sym => value.propertyIsEnumerable(sym))\n    ]\n\n    // é€’å½’å…‹éš†å±æ€§\n    for (const key of keys) {\n        clone[key] = cloneDeep((value as any)[key], cache)\n    }\n\n    return clone as T\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-26 17:34:47\n * @LastEditTime: 2025-02-16 20:32:15\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/option.ts\n */\n\nimport { OriginLangKeyEnum } from './enums'\nimport { YoudaoTranslator, GoogleTranslator, Translator, TranslatorOption } from './translator'\nimport { cloneDeep } from './utils/base'\nexport { YoudaoTranslator, GoogleTranslator, Translator }\nexport type { TranslatorOption }\n\n/**\n * é»˜è®¤æ’ä»¶é…ç½®é€‰é¡¹\n */\nconst DEFAULT_OPTION = {\n    /** ç¿»è¯‘è°ƒç”¨å‡½æ•°ï¼Œé»˜è®¤ä¸º $t */\n    translateKey: '$t',\n\n    /** æ ‡è®°ä¸ç¿»è¯‘è°ƒç”¨å‡½æ•°åˆ—è¡¨ï¼Œé¿å…æŸäº›è°ƒç”¨è¢«é”™è¯¯ç¿»è¯‘ */\n    excludedCall: ['$i8n', 'require', '$$i8n', 'console.log', '$t'],\n\n    /** æ ‡è®°ä¸ç”¨ç¿»è¯‘çš„å­—ç¬¦ä¸²æ¨¡å¼æ•°ç»„ï¼Œé»˜è®¤æ˜¯åŒ¹é…æ–‡ä»¶æ‰©å±•å */\n    excludedPattern: [/\\.\\w+$/],\n\n    /** æ’æŸ¥ä¸éœ€è¦ç¿»è¯‘çš„ç›®å½•ä¸‹çš„æ–‡ä»¶è·¯å¾„ï¼ˆé»‘åå•ï¼‰, é»˜è®¤ä¸å¤„ç†node_modules */\n    excludedPath: ['node_modules'] as string[],\n\n    /** æŒ‡å®šéœ€è¦ç¿»è¯‘æ–‡ä»¶çš„ç›®å½•è·¯å¾„æ­£åˆ™ï¼ˆç™½åå•ï¼‰ */\n    includePath: [/src\\//],\n\n    /** é…ç½®æ–‡ä»¶ç”Ÿæˆä½ç½®ï¼Œé»˜è®¤ä¸º './lang' */\n    globalPath: './lang',\n\n    /** æ‰“åŒ…åç”Ÿæˆæ–‡ä»¶çš„ä½ç½®ï¼Œä¾‹å¦‚ './dist/assets' */\n    distPath: '',\n\n    /** æ‰“åŒ…åç”Ÿæˆæ–‡ä»¶çš„ä¸»æ–‡ä»¶åç§°ï¼Œé»˜è®¤æ˜¯ 'index' */\n    distKey: 'index',\n\n    /** æ¥æºè¯­è¨€ï¼Œé»˜è®¤æ˜¯ä¸­æ–‡ */\n    originLang: OriginLangKeyEnum.ZH as OriginLangKeyEnum | string,\n\n    /** ç¿»è¯‘ç›®æ ‡è¯­è¨€åˆ—è¡¨ï¼Œé»˜è®¤åŒ…å«è‹±æ–‡ */\n    targetLangList: ['en'],\n\n    /** è¯­è¨€keyï¼Œç”¨äºè¯·æ±‚è°·æ­Œapiå’Œç”Ÿæˆé…ç½®æ–‡ä»¶ä¸‹å¯¹åº”è¯­è¨€çš„å†…å®¹æ–‡ä»¶ */\n    langKey: [] as string[],\n\n    /** å‘½åç©ºé—´ï¼Œé˜²æ­¢å…¨å±€å‘½åå†²çª */\n    namespace: '',\n\n    /** æ˜¯å¦åœ¨æ„å»ºç»“æŸä¹‹åå°†æœ€æ–°çš„ç¿»è¯‘é‡æ–°æ‰“åŒ…åˆ°ä¸»åŒ…ä¸­ï¼Œé»˜è®¤ä¸æ‰“åŒ… */\n    buildToDist: false,\n\n    /** é»˜è®¤ä½¿ç”¨ Google ç¿»è¯‘å™¨ */\n    translator: new GoogleTranslator({\n        proxyOption: {\n            port: 7890,\n            host: '127.0.0.1',\n            headers: {\n                'User-Agent': 'Node'\n            }\n        }\n    }) as Translator,\n\n    /** ç¿»è¯‘å™¨é…ç½®é€‰é¡¹ï¼Œä¼˜å…ˆçº§ä½äºtranslator */\n    translatorOption: undefined as TranslatorOption | undefined\n}\n\n/**\n * ç±»å‹å®šä¹‰ï¼šæ’ä»¶é…ç½®é€‰é¡¹ç±»å‹\n */\ntype OptionType = typeof DEFAULT_OPTION\n\n/**\n * å…¨å±€æ’ä»¶é…ç½®å®ä¾‹ï¼Œå¤åˆ¶è‡ªé»˜è®¤é…ç½®\n */\nexport let option: OptionType = { ...DEFAULT_OPTION }\n\n/**\n * ç±»å‹å®šä¹‰ï¼šç”¨æˆ·ä¼ å…¥çš„é…ç½®é€‰é¡¹\n */\nexport type OptionInfo = {\n    option: Partial<OptionType> // TODO: æ²¡æœ‰åŒºåˆ†å¿…å¡«é¡¹ä¸éå¿…å¡«é¡¹\n}\n\n/**\n * ç”Ÿæˆç”¨æˆ·ä¼ å…¥çš„é…ç½®é€‰é¡¹ï¼Œè¿›è¡Œå¿…è¦å‰ç½®å¤„ç†\n * @param optionInfo ç”¨æˆ·æä¾›çš„é…ç½®é€‰é¡¹\n * @returns å¤„ç†åçš„ç”¨æˆ·é…ç½®é€‰é¡¹\n */\n/**\n * Generates a user option object by deep cloning the provided option information,\n * ensuring that the original configuration is not modified. It also initializes\n * the translator based on the user's configuration.\n *\n * @param optionInfo - The option information containing the user's option and translator details.\n * @returns A new user option object with potential translator initialization.\n */\nfunction generateUserOption(optionInfo: OptionInfo) {\n    // æ·±æ‹·è´ç”¨æˆ·ä¼ å…¥çš„é…ç½®ï¼Œé˜²æ­¢ä¿®æ”¹åŸé…ç½®å¯¹è±¡\n    const userOption = cloneDeep(optionInfo.option)\n    userOption.translator = optionInfo?.option?.translator\n\n    // å¦‚æœç”¨æˆ·é…ç½®äº†translatorOptionåˆ™åˆå§‹åŒ–translatorï¼Œå¦‚æœéƒ½æ²¡æœ‰åˆ™ä¸è®¾ç½®translator\n    userOption.translator ||= userOption.translatorOption\n        ? new Translator(userOption.translatorOption)\n        : undefined\n    if (!userOption.translator) delete userOption.translator\n    return userOption\n}\n\n/**\n * åˆå§‹åŒ–æ’ä»¶é…ç½®é€‰é¡¹\n * @param optionInfo ç”¨æˆ·æä¾›çš„é…ç½®é€‰é¡¹\n */\nexport function initOption(optionInfo: OptionInfo) {\n    // åˆå¹¶é»˜è®¤é…ç½®å’Œç”¨æˆ·é…ç½®\n    option = { ...DEFAULT_OPTION, ...generateUserOption(optionInfo) }\n\n    // åˆå§‹åŒ–è¯­è¨€keyæ•°ç»„ï¼ŒåŒ…å«æ¥æºè¯­è¨€å’Œç›®æ ‡è¯­è¨€\n    option.langKey = [option.originLang, ...option.targetLangList]\n}\n\n/**\n * æ ¡éªŒæ’ä»¶é…ç½®é€‰é¡¹æ˜¯å¦å®Œæ•´æœ‰æ•ˆ\n * @returns {boolean} æ ¡éªŒç»“æœï¼Œå®Œæ•´è¿”å› trueï¼Œå¦åˆ™è¿”å› false\n */\nexport function checkOption() {\n    // æ ¡éªŒç¿»è¯‘è°ƒç”¨å‡½æ•°æ˜¯å¦é…ç½®\n    if (!option.translateKey) {\n        console.error('âŒè¯·é…ç½®ç¿»è¯‘è°ƒç”¨å‡½æ•°')\n        return false\n    }\n\n    // æ ¡éªŒå‘½åç©ºé—´æ˜¯å¦é…ç½®\n    if (!option.namespace) {\n        console.error('âŒè¯·é…ç½®å‘½åç©ºé—´')\n        return false\n    }\n\n    // æ ¡éªŒæ˜¯å¦é…ç½®äº†æ‰“åŒ…åç”Ÿæˆæ–‡ä»¶çš„ä¸»æ–‡ä»¶åç§°ï¼ˆå¦‚æœéœ€è¦æ‰“åŒ…åˆ°ä¸»åŒ…ä¸­ï¼‰\n    if (option.buildToDist && !option.distKey) {\n        console.log('âŒè¯·é…ç½®æ‰“åŒ…åç”Ÿæˆæ–‡ä»¶çš„ä¸»æ–‡ä»¶åç§°')\n        return false\n    }\n\n    // æ ¡éªŒæ˜¯å¦é…ç½®äº†æ‰“åŒ…åç”Ÿæˆæ–‡ä»¶çš„ä½ç½®ï¼ˆå¦‚æœéœ€è¦æ‰“åŒ…åˆ°ä¸»åŒ…ä¸­ï¼‰\n    if (option.buildToDist && !option.distPath) {\n        console.log('âŒè¯·é…ç½®æ‰“åŒ…åç”Ÿæˆæ–‡ä»¶çš„ä½ç½®')\n        return false\n    }\n\n    // æ ¡éªŒæ¥æºè¯­è¨€æ˜¯å¦é…ç½®\n    if (!option.originLang) {\n        console.error('âŒè¯·é…ç½®æ¥æºè¯­è¨€')\n        return false\n    }\n\n    // æ ¡éªŒç›®æ ‡ç¿»è¯‘è¯­è¨€æ•°ç»„æ˜¯å¦é…ç½®\n    if (!option.targetLangList || !option.targetLangList.length) {\n        console.error('âŒè¯·é…ç½®ç›®æ ‡ç¿»è¯‘è¯­è¨€æ•°ç»„')\n        return false\n    }\n\n    // å¦‚æœæ‰€æœ‰æ ¡éªŒé€šè¿‡ï¼Œè¿”å› true\n    return true\n}\n","/**\n * JSON æ ¼å¼åŒ–é…ç½®ç±»å‹\n */\ntype IndentType = 'tab' | 'space'\n\ninterface IndentConfig {\n    tab: { char: string; size: number }\n    space: { char: string; size: number }\n}\n\ninterface JSONFormatConfig {\n    type: IndentType\n    size?: number\n}\n\n// é»˜è®¤çš„ç¼©è¿›é…ç½®\nconst indentConfig: IndentConfig = {\n    tab: { char: '\\t', size: 1 },\n    space: { char: ' ', size: 4 }\n}\n\n// é»˜è®¤æ ¼å¼åŒ–é…ç½®\nconst configDefault: JSONFormatConfig = {\n    type: 'tab'\n}\n\n// ä¸´æ—¶å­˜å‚¨æ›¿æ¢å­—ç¬¦ä¸²çš„æ•°ç»„\nlet placeholderStorage: string[] = []\n\n// ä¸´æ—¶å­˜å‚¨å¤„ç†å‡½æ•°\nconst pushPlaceholder = (match: string): string => `\\\\${placeholderStorage.push(match)}\\\\`\nconst popPlaceholder = (_match: string, index: string): string => placeholderStorage[+index - 1]\n\n// ç”Ÿæˆç¼©è¿›å­—ç¬¦\nconst generateIndentation = (count: number, indentType: string): string => {\n    return new Array(count + 1).join(indentType)\n}\n\n/**\n * æ ¼å¼åŒ– JSON å­—ç¬¦ä¸²\n * @param json JSON å­—ç¬¦ä¸²\n * @param indentType ç¼©è¿›ç±»å‹\n * @returns æ ¼å¼åŒ–çš„ JSON å­—ç¬¦ä¸²\n */\nfunction formatJSON(json: string, indentType: string): string {\n    placeholderStorage = []\n    let output = ''\n    let indentLevel = 0\n\n    // æå–åæ–œæ å’Œå­—ç¬¦ä¸²\n    json = json\n        .replace(/\\\\./g, pushPlaceholder) // å¤„ç†åæ–œæ \n        .replace(/(\".*?\"|'.*?')/g, pushPlaceholder) // å¤„ç†å­—ç¬¦ä¸²\n        .replace(/\\s+/g, '') // å»é™¤å¤šä½™ç©ºæ ¼\n\n    // æ ¹æ® JSON å†…å®¹æ·»åŠ æ¢è¡Œå’Œç¼©è¿›\n    for (let i = 0; i < json.length; i++) {\n        const char = json.charAt(i)\n\n        switch (char) {\n            case '{':\n            case '[':\n                output += char + '\\n' + generateIndentation(++indentLevel, indentType)\n                break\n            case '}':\n            case ']':\n                output += '\\n' + generateIndentation(--indentLevel, indentType) + char\n                break\n            case ',':\n                output += ',\\n' + generateIndentation(indentLevel, indentType)\n                break\n            case ':':\n                output += ': '\n                break\n            default:\n                output += char\n                break\n        }\n    }\n\n    // å»é™¤æ•°å­—æ•°ç»„çš„ç©ºæ ¼ï¼Œå¹¶è¿˜åŸåæ–œæ å’Œå­—ç¬¦ä¸²\n    output = output\n        .replace(/\\[[\\d,\\s]+?\\]/g, match => match.replace(/\\s/g, ''))\n        .replace(/\\\\(\\d+)\\\\/g, popPlaceholder) // è¿˜åŸå¡«å……æ•°æ®\n        .replace(/\\\\(\\d+)\\\\/g, popPlaceholder) // å†æ¬¡è¿˜åŸå¡«å……æ•°æ®\n\n    return output\n}\n\n/**\n * æ ¼å¼åŒ– JSON çš„ä¸»å‡½æ•°\n * @param json éœ€è¦æ ¼å¼åŒ–çš„ JSON å¯¹è±¡æˆ–å­—ç¬¦ä¸²\n * @param config é…ç½®é€‰é¡¹\n * @returns æ ¼å¼åŒ–åçš„ JSON å­—ç¬¦ä¸²\n */\nexport function jsonFormatter(\n    json: object | string,\n    config: JSONFormatConfig = configDefault\n): string {\n    // ç¡®ä¿è¾“å…¥æ˜¯ JSON å­—ç¬¦ä¸²\n    const jsonString = typeof json === 'string' ? json : JSON.stringify(json)\n\n    // è·å–ç¼©è¿›é…ç½®\n    const indent = indentConfig[config.type]\n    if (!indent) {\n        throw new Error(`Unrecognized indent type: \"${config.type}\"`)\n    }\n\n    // ç”Ÿæˆç¼©è¿›å­—ç¬¦\n    const indentType = generateIndentation(config.size || indent.size, indent.char)\n\n    // æ ¼å¼åŒ– JSON å­—ç¬¦ä¸²\n    return formatJSON(jsonString, indentType)\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-12 13:28:03\n * @LastEditTime: 2025-02-14 11:45:57\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/file.ts\n */\nimport fs from 'fs'\nimport path from 'path'\nimport { option } from '../option'\nimport { jsonFormatter } from './json'\n\n/**\n * @description: æ–°å»ºå›½é™…åŒ–é…ç½®æ–‡ä»¶å¤¹\n * @return {*}\n */\nexport function initLangFile() {\n    if (!fs.existsSync(option.globalPath)) {\n        fs.mkdirSync(option.globalPath) // åˆ›å»ºlangæ–‡ä»¶å¤¹\n    }\n    initLangTranslateJSONFile()\n    initTranslateBasicFnFile()\n}\n\n/**\n * @description: ç”Ÿæˆå›½é™…åŒ–åŸºç¡€è°ƒç”¨å‡½æ•°æ–‡ä»¶\n * @return {*}\n */\nexport function initTranslateBasicFnFile() {\n    const key = option.translateKey\n    const translateBasicFnText = `(function () {\n    let ${key} = function (key, val, nameSpace) {\n      const langPackage = ${key}[nameSpace]\n      return (langPackage || {})[key] || val;\n    };\n    let $${key} = function (val) {\n      return val;\n    };\n    ${key}.locale = function (locale, nameSpace) {\n      ${key}[nameSpace] = locale || {};\n    };\n    window.${key} = window.${key} || ${key};\n    window.$${key} = $${key};\n    window._getJSONKey = function (key, insertJSONObj = undefined) {\n      const JSONObj = insertJSONObj\n      const langObj = {}\n      Object.keys(JSONObj).forEach((value)=>{\n        langObj[value] = JSONObj[value][key]\n      })\n      return langObj\n    }\n  })();`\n    const indexPath = path.join(option.globalPath, 'index.js')\n    if (!fs.existsSync(indexPath)) {\n        // ä¸å­˜åœ¨å°±åˆ›å»º\n        fs.writeFileSync(indexPath, translateBasicFnText) // åˆ›å»º\n    }\n}\n\n/**\n * @description: ç”Ÿæˆå›½é™…åŒ–JSONæ–‡ä»¶\n * @return {*}\n */\nexport function initLangTranslateJSONFile() {\n    const indexPath = path.join(option.globalPath, 'index.json')\n    if (!fs.existsSync(indexPath)) {\n        // ä¸å­˜åœ¨å°±åˆ›å»º\n        fs.writeFileSync(indexPath, JSON.stringify({})) // åˆ›å»º\n    }\n}\n\n/**\n * @description: è¯»å–å›½é™…åŒ–JSONæ–‡ä»¶\n * @return {*}\n */\nexport function getLangTranslateJSONFile() {\n    const filePath = path.join(option.globalPath, 'index.json')\n    try {\n        const content = fs.readFileSync(filePath, 'utf-8')\n        return content\n    } catch (error: any) {\n        if (error.code === 'ENOENT') {\n            console.log('âŒè¯»å–JSONé…ç½®æ–‡ä»¶å¼‚å¸¸ï¼Œæ–‡ä»¶ä¸å­˜åœ¨')\n        } else {\n            console.log('âŒè¯»å–JSONé…ç½®æ–‡ä»¶å¼‚å¸¸ï¼Œæ— æ³•è¯»å–æ–‡ä»¶')\n        }\n        return JSON.stringify({})\n    }\n}\n\n/**\n * @description: åŸºäºlangKeyè·å–JSONé…ç½®æ–‡ä»¶ä¸­å¯¹åº”è¯­è¨€å¯¹è±¡\n * @param {string} key\n * @return {*}\n */\nexport function getLangObjByJSONFileWithLangKey(\n    key: string,\n    insertJSONObj: object | undefined = undefined\n) {\n    const JSONObj = insertJSONObj || JSON.parse(getLangTranslateJSONFile())\n    const langObj: any = {}\n    Object.keys(JSONObj).forEach(value => {\n        langObj[value] = JSONObj[value][key]\n    })\n    return langObj\n}\n\n/**\n * @description: è®¾ç½®å›½é™…åŒ–JSONæ–‡ä»¶\n * @return {*}\n */\nexport function setLangTranslateJSONFile(obj: object) {\n    const filePath = path.join(option.globalPath, 'index.json')\n    const jsonObj = jsonFormatter(obj)\n    if (fs.existsSync(filePath)) {\n        fs.writeFileSync(filePath, jsonObj)\n    } else {\n        console.log('âŒJSONé…ç½®æ–‡ä»¶å†™å…¥å¼‚å¸¸ï¼Œæ–‡ä»¶ä¸å­˜åœ¨')\n    }\n}\n\n/**\n * @description: æ„å»ºæ—¶æŠŠlangé…ç½®æ–‡ä»¶è®¾ç½®åˆ°æ‰“åŒ…ååˆ°ä¸»æ–‡ä»¶ä¸­\n * @return {*}\n */\nexport function buildSetLangConfigToIndexFile() {\n    if (!option.buildToDist) return\n    let langObjMap: any = {}\n    option.langKey.forEach(item => {\n        langObjMap[item] = getLangObjByJSONFileWithLangKey(item)\n    })\n    if (fs.existsSync(option.distPath)) {\n        fs.readdir(option.distPath, (err, files) => {\n            if (err) {\n                console.error('âŒæ„å»ºæ–‡ä»¶å¤¹ä¸ºç©ºï¼Œç¿»è¯‘é…ç½®æ— æ³•å†™å…¥')\n                return\n            }\n\n            files.forEach(file => {\n                if (file.startsWith(option.distKey) && file.endsWith('.js')) {\n                    const filePath = path.join(option.distPath, file)\n                    fs.readFile(filePath, 'utf-8', (err, data) => {\n                        if (err) {\n                            console.log(filePath)\n                            console.error('âŒæ„å»ºä¸»æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç¿»è¯‘é…ç½®æ— æ³•å†™å…¥')\n                            return\n                        }\n                        let buildLangConfigString = ''\n                        Object.keys(langObjMap).forEach(item => {\n                            buildLangConfigString =\n                                buildLangConfigString +\n                                `window['${option.namespace}']['${item}']=${JSON.stringify(langObjMap[item])};`\n                        })\n                        try {\n                            // ç¿»è¯‘é…ç½®å†™å…¥ä¸»æ–‡ä»¶\n                            fs.writeFileSync(\n                                filePath,\n                                `window['${option.namespace}']={};${buildLangConfigString}` + data\n                            )\n                            console.info('æ­å–œï¼šç¿»è¯‘é…ç½®å†™å…¥æ„å»ºä¸»æ–‡ä»¶æˆåŠŸğŸŒŸğŸŒŸğŸŒŸ')\n                        } catch (err) {\n                            console.error('ç¿»è¯‘é…ç½®å†™å…¥æ„å»ºä¸»æ–‡ä»¶å¤±è´¥:', err)\n                        }\n                    })\n                }\n            })\n        })\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-30 18:23:03\n * @LastEditTime: 2025-02-18 10:56:44\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/translate.ts\n */\n\nimport { chunkUtils } from '.'\nimport * as fileUtils from './file'\nimport { option } from 'src/option'\n\nexport const SEPARATOR = '\\nâ”‡â”‡â”‡\\n'\nexport const SPLIT_SEPARATOR_REGEX = /\\nâ”‡ *â”‡ *â”‡\\n/\n\ntype langObj = { [key: string]: string }\n\nexport let langObj: langObj = {}\n\n/**\n * @description: è®¾ç½®ç¿»è¯‘å¯¹è±¡å±æ€§\n * @param {string} key\n * @param {string} value\n * @return {*}\n */\nexport function setLangObj(key: string, value: string) {\n    if (!langObj[key]) {\n        langObj[key] = value\n    }\n}\n\n/**\n * @description: è¯»å–ç¿»è¯‘å¯¹è±¡\n * @return {*}\n */\nexport function getLangObj() {\n    return langObj\n}\n\n/**\n * @description: åˆå§‹åŒ–ç¿»è¯‘å¯¹è±¡\n * @param {langObj} obj\n * @return {*}\n */\nexport function initLangObj(obj: langObj) {\n    if (!Object.keys(langObj)) {\n        langObj = obj\n    }\n}\n\n// todo ç±»å‹ä¿®å¤\n/**\n * è‡ªåŠ¨ç”Ÿæˆå¤šè¯­è¨€é…ç½®æ–‡ä»¶çš„æ ¸å¿ƒæ–¹æ³•\n *\n * ä¸»è¦æµç¨‹ï¼š\n * 1. åŠ è½½ç°æœ‰ç¿»è¯‘æ–‡ä»¶\n * 2. å¯¹æ¯”æ‰¾å‡ºæ–°å¢éœ€è¦ç¿»è¯‘çš„å†…å®¹\n * 3. åˆ†å—å¹¶è¡Œç¿»è¯‘æ‰€æœ‰ç›®æ ‡è¯­è¨€\n * 4. åˆå¹¶ç¿»è¯‘ç»“æœå¹¶ç”Ÿæˆæœ€ç»ˆé…ç½®æ–‡ä»¶\n *\n * å¼‚å¸¸å¤„ç†ï¼š\n * - ç¿»è¯‘ç»“æœä¸å®Œæ•´æ—¶ä¸­æ–­æµç¨‹\n * - æ–‡ä»¶è¯»å†™å¤±è´¥æ—¶æ˜ç¡®æŠ¥é”™\n */\nexport async function autoTranslate() {\n    // åˆå§‹åŒ–ç°æœ‰ç¿»è¯‘æ–‡ä»¶ç¼“å­˜\n    const originLangObjMap: Record<string, any> = {}\n\n    // åŠ è½½æ‰€æœ‰è¯­è¨€çš„ç°æœ‰ç¿»è¯‘å†…å®¹\n    option.langKey.forEach(lang => {\n        originLangObjMap[lang] = fileUtils.getLangObjByJSONFileWithLangKey(lang)\n    })\n\n    // è·å–å½“å‰å¾…ç¿»è¯‘å†…å®¹ï¼ˆæ·±æ‹·è´é¿å…æ±¡æŸ“åŸå§‹æ•°æ®ï¼‰\n    const currentLangObj = JSON.parse(JSON.stringify(getLangObj()))\n\n    // ç­›é€‰éœ€è¦ç¿»è¯‘çš„æ–°å¢å†…å®¹\n    const transLangObj: Record<string, string> = {}\n    Object.keys(currentLangObj).forEach(key => {\n        if (!originLangObjMap[option.originLang][key]) {\n            transLangObj[key] = currentLangObj[key]\n        }\n    })\n\n    // æ— æ–°å†…å®¹æå‰é€€å‡º\n    if (Object.keys(transLangObj).length === 0) {\n        console.info('âœ… å½“å‰æ²¡æœ‰éœ€è¦ç¿»è¯‘çš„æ–°å†…å®¹')\n        return\n    }\n\n    // åˆå§‹åŒ–ç¿»è¯‘ç»“æœå­˜å‚¨ç»“æ„\n    const newLangObjMap: Record<string, (string | number)[]> = {}\n\n    // éå†æ‰€æœ‰ç›®æ ‡è¯­è¨€è¿›è¡Œå¤„ç†\n    for (let langIndex = 0; langIndex < option.langKey.length; langIndex++) {\n        const currentLang = option.langKey[langIndex]\n\n        // åŸå§‹è¯­è¨€ç›´æ¥å­˜å‚¨åŸæ–‡ï¼Œè¯»å–æ‰«å‡ºæ¥çš„å…ƒç´ ç¿»è¯‘å†…å®¹\n        if (langIndex === 0) {\n            newLangObjMap[option.originLang] = Object.values(transLangObj)\n            continue\n        }\n\n        console.info('å¼€å§‹è‡ªåŠ¨ç¿»è¯‘...')\n\n        // â”€â”€â”€ åˆ†å—ç¿»è¯‘æµç¨‹å¼€å§‹ â”€â”€â”€\n        // è·å–åˆ†å—åçš„æ–‡æœ¬åˆ—è¡¨\n        const translationChunks = chunkUtils.createTextSplitter(Object.values(transLangObj))\n        // å¹¶è¡Œæ‰§è¡Œåˆ†å—ç¿»è¯‘\n        const translatePromises = []\n        for (let i = 0; i < translationChunks.length; i++) {\n            translatePromises.push(\n                option.translator.translate(\n                    translationChunks[i],\n                    option.originLang,\n                    option.langKey[langIndex]\n                )\n            )\n        }\n\n        // ç­‰å¾…æ‰€æœ‰åˆ†å—å®Œæˆå¹¶åˆå¹¶ç»“æœ\n        const chunkResults = await Promise.all(translatePromises)\n        const translatedValues = chunkResults\n            .map(item => {\n                return item.split(SPLIT_SEPARATOR_REGEX).map(v => v.trim())\n            })\n            .flat()\n\n        // â”€â”€â”€ ç¿»è¯‘ç»“æœæ ¡éªŒ â”€â”€â”€\n        if (translatedValues.length !== Object.keys(transLangObj).length) {\n            console.error(`âŒ ç¿»è¯‘ç»“æœä¸å®Œæ•´\n                é¢„æœŸæ•°é‡: ${Object.keys(transLangObj).length}\n                å®é™…æ•°é‡: ${translatedValues.length}\n                æ ·ä¾‹æ•°æ®: ${JSON.stringify(translatedValues.slice(0, 3))}`)\n            return\n        }\n\n        // å­˜å‚¨å½“å‰è¯­è¨€ç¿»è¯‘ç»“æœ\n        newLangObjMap[currentLang] = translatedValues\n        console.info(`âœ… ${currentLang} ç¿»è¯‘å®Œæˆ`)\n    }\n\n    // â”€â”€â”€ åˆå¹¶ç¿»è¯‘ç»“æœåˆ°é…ç½® â”€â”€â”€\n    Object.keys(transLangObj).forEach((key: any, index) => {\n        option.langKey.forEach(item => {\n            originLangObjMap[item][key] = newLangObjMap[item][index]\n        })\n    })\n\n    // â”€â”€â”€ ç”Ÿæˆæœ€ç»ˆé…ç½®æ–‡ä»¶ç»“æ„ â”€â”€â”€\n    console.log('ğŸ“„ æ„å»ºé…ç½®æ–‡ä»¶æ•°æ®ç»“æ„...')\n    const configLangObj: Record<string, Record<string, string>> = {}\n    Object.keys(originLangObjMap[option.originLang]).forEach(key => {\n        configLangObj[key] = {}\n        option.langKey.forEach(lang => {\n            configLangObj[key][lang] = originLangObjMap[lang][key]\n        })\n    })\n\n    // â”€â”€â”€ å†™å…¥æ–‡ä»¶ç³»ç»Ÿ â”€â”€â”€\n    try {\n        fileUtils.setLangTranslateJSONFile(configLangObj)\n        console.info('ğŸ‰ å¤šè¯­è¨€é…ç½®æ–‡ä»¶å·²æˆåŠŸæ›´æ–°')\n    } catch (error) {\n        console.error('âŒ é…ç½®æ–‡ä»¶å†™å…¥å¤±è´¥ï¼ŒåŸå› :', error)\n        // todo å¯æ·»åŠ é‡è¯•é€»è¾‘æˆ–å›æ»šæœºåˆ¶\n    }\n}\n\n/**\n * @description: æ–°å¢è¯­è¨€ç±»å‹é…ç½®è¡¥å…¨\n * @param {any} obj\n * @return {*}\n */\nexport function languageConfigCompletion(obj: any) {\n    if (!Object.keys(obj)) return\n    let needCompletionList: any[] = []\n    const JSONobj = JSON.parse(fileUtils.getLangTranslateJSONFile())\n    option.targetLangList.forEach(item => {\n        let langObj = fileUtils.getLangObjByJSONFileWithLangKey(item, JSONobj)\n        needCompletionList.push({\n            key: item,\n            curLangObj: langObj\n        })\n    })\n    needCompletionList.forEach(async item => {\n        await completionTranslateAndWriteConfigFile(obj, item.curLangObj, item.key)\n    })\n}\n\n/**\n * @description: è¡¥å…¨æ–°å¢è¯­è¨€ç¿»è¯‘å†™å…¥å‡½æ•°\n * @param {any} langObj\n * @param {any} curLangObj\n * @param {string} translateKey\n * @return {*}\n */\nexport async function completionTranslateAndWriteConfigFile(\n    langObj: any,\n    curLangObj: any,\n    translateKey: string\n) {\n    // ç”Ÿäº§éœ€è¦æ›´æ–°çš„è¯­è¨€å¯¹è±¡\n    let transLangObj: any = {}\n    Object.keys(langObj).forEach(key => {\n        if (!curLangObj[key]) {\n            transLangObj[key] = langObj[key]\n        }\n    })\n\n    if (!Object.values(transLangObj).length) return\n\n    // åˆ›å»ºç¿»è¯‘æ–‡æœ¬\n    let text = Object.values(transLangObj).join(SEPARATOR)\n\n    console.info('è¿›å…¥æ–°å¢è¯­è¨€è¡¥å…¨ç¿»è¯‘...')\n    const res = await option.translator.translate(text, option.originLang, translateKey)\n    const resultValues = res.split(SPLIT_SEPARATOR_REGEX).map(v => v.trim()) // æ‹†åˆ†æ–‡æ¡ˆ\n    if (resultValues.length !== Object.values(langObj).length) {\n        console.error('ç¿»è¯‘å¼‚å¸¸ï¼Œç¿»è¯‘ç»“æœç¼ºå¤±âŒ')\n        return\n    }\n    let newLangObjMap = resultValues\n    console.info('ç¿»è¯‘æˆåŠŸâ­ï¸â­ï¸â­ï¸')\n\n    Object.keys(transLangObj).forEach((key, index) => {\n        curLangObj[key] = newLangObjMap[index]\n    })\n\n    console.log('å¼€å§‹å†™å…¥JSONé…ç½®æ–‡ä»¶...')\n    const configLangObj: any = JSON.parse(fileUtils.getLangTranslateJSONFile())\n\n    Object.keys(transLangObj).forEach(key => {\n        configLangObj[key][translateKey] = curLangObj[key]\n    })\n    try {\n        fileUtils.setLangTranslateJSONFile(configLangObj)\n        console.info('JSONé…ç½®æ–‡ä»¶å†™å…¥æˆåŠŸâ­ï¸â­ï¸â­ï¸')\n    } catch (error) {\n        console.error('âŒJSONé…ç½®æ–‡ä»¶å†™å…¥å¤±è´¥' + error)\n    }\n    console.info('æ–°å¢è¯­è¨€ç¿»è¯‘è¡¥å…¨æˆåŠŸâ­ï¸â­ï¸â­ï¸')\n}\n","/*\n * @Date: 2025-02-17 17:11:26\n * @LastEditors: xiaoshan\n * @LastEditTime: 2025-02-17 18:00:37\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/utils/chunk.ts\n */\nimport { SEPARATOR } from './translate'\n\n/**\n * æ™ºèƒ½æ–‡æœ¬åˆ†å—å¤„ç†å™¨\n * @param values å¾…åˆ†å—çš„åŸå§‹æ–‡æœ¬æ•°ç»„\n * @param maxChunkSize æœ€å¤§åˆ†å—é•¿åº¦ï¼ˆé»˜è®¤4500å­—ç¬¦ï¼‰\n * @returns åŒ…å«åˆ†å—æ–‡æœ¬å’Œé‡ç»„æ–¹æ³•çš„å¯¹è±¡\n *\n * åŠŸèƒ½ç‰¹æ€§ï¼š\n * 1. è‡ªåŠ¨åˆå¹¶å°æ–‡æœ¬ä¸ºæœ€å¤§å¯èƒ½å—\n * 2. å¤„ç†è¶…é•¿æ–‡æœ¬å¹¶ç»™å‡ºè­¦å‘Š\n * 3. ä¿è¯å—é•¿åº¦ä¸è¶…è¿‡é™åˆ¶\n * 4. ä¿ç•™åŸå§‹é¡ºåºå’Œåˆ†éš”ç¬¦è¯­ä¹‰\n */\nexport function createTextSplitter(values: string[], maxChunkSize = 4500) {\n    // åˆ†éš”ç¬¦å®šä¹‰ï¼ˆç”¨äºåˆå¹¶/æ‹†åˆ†æ—¶ä¿æŒè¯­ä¹‰ï¼‰\n    const SEP_LENGTH = SEPARATOR.length\n\n    // ç»“æœå­˜å‚¨å’Œç¼“å†²åŒº\n    const result: string[] = [] // æœ€ç»ˆåˆ†å—ç»“æœ\n    let buffer: string[] = [] // å½“å‰ç´¯ç§¯å—ç¼“å†²åŒº\n    let currentSize = 0 // å½“å‰ç¼“å†²åŒºå­—ç¬¦æ•°ï¼ˆå«åˆ†éš”ç¬¦ï¼‰\n\n    /**\n     * æäº¤ç¼“å†²åŒºå†…å®¹åˆ°ç»“æœé›†\n     * - å°†ç¼“å†²åŒºå†…å®¹ç”¨åˆ†éš”ç¬¦è¿æ¥\n     * - é‡ç½®ç¼“å†²åŒºå’Œè®¡æ•°å™¨\n     */\n    const commitBuffer = () => {\n        if (buffer.length > 0) {\n            // è®¡ç®—å®é™…è¿æ¥é•¿åº¦ç”¨äºéªŒè¯\n            const actualLength = buffer.join(SEPARATOR).length\n            if (actualLength > maxChunkSize) {\n                console.warn(`ç¼“å†²åŒºæäº¤å¼‚å¸¸ï¼šç”Ÿæˆå—é•¿åº¦ ${actualLength} è¶…è¿‡é™åˆ¶`)\n            }\n\n            result.push(buffer.join(SEPARATOR))\n            buffer = []\n            currentSize = 0\n        }\n    }\n\n    // ä¸»å¤„ç†å¾ªç¯ï¼šéå†æ‰€æœ‰åŸå§‹æ–‡æœ¬é¡¹\n    for (const value of values) {\n        // è®¡ç®—éœ€è¦æ–°å¢çš„ç©ºé—´ï¼šæ–‡æœ¬é•¿åº¦ + åˆ†éš”ç¬¦ï¼ˆéé¦–é¡¹ï¼‰\n        const neededSpace = value.length + (buffer.length > 0 ? SEP_LENGTH : 0)\n\n        // â”€â”€â”€ è¶…é•¿æ–‡æœ¬å¤„ç†ç­–ç•¥ â”€â”€â”€\n        if (value.length > maxChunkSize) {\n            // ä¼˜å…ˆæäº¤ç°æœ‰ç¼“å†²åŒºå†…å®¹\n            if (buffer.length > 0) commitBuffer()\n\n            /**\n             * è¶…é•¿æ–‡æœ¬å¤„ç†é€»è¾‘ï¼š\n             * - é•¿åº¦è¶…è¿‡1.5å€é™åˆ¶æ—¶å‘å‡ºå¼ºè­¦å‘Š\n             * - å¼ºåˆ¶å•ç‹¬æˆå—ï¼ˆå³ä½¿è¶…è¿‡é™åˆ¶ï¼‰\n             * - åç»­éœ€è¦ç‰¹æ®Šå¤„ç†è¿™äº›å¼‚å¸¸å—\n             */\n            if (value.length > maxChunkSize * 1.5) {\n                console.warn(\n                    `è¶…é•¿æ–‡æœ¬å‘Šè­¦ï¼šæ£€æµ‹åˆ°é•¿åº¦ ${value.length} å­—ç¬¦çš„æ–‡æœ¬é¡¹ï¼Œå¯èƒ½å½±å“ç¿»è¯‘è´¨é‡`\n                )\n            }\n            // ç»“æœç›´æ¥æ–°å¢ä¸€ä¸ªè¶…é•¿æ–‡æœ¬\n            result.push(value)\n            continue\n        }\n\n        // â”€â”€â”€ æ­£å¸¸åˆ†å—é€»è¾‘ â”€â”€â”€\n        // ç©ºé—´ä¸è¶³æ—¶æäº¤å½“å‰ç¼“å†²åŒº\n        if (currentSize + neededSpace > maxChunkSize) {\n            commitBuffer()\n        }\n\n        // æ›´æ–°ç¼“å†²åŒºçŠ¶æ€ï¼ˆç´¯åŠ é•¿åº¦éœ€åŒ…å«åˆ†éš”ç¬¦ï¼‰\n        currentSize += neededSpace\n        buffer.push(value)\n    }\n\n    // æäº¤æœ€ç»ˆæœªå®Œæˆçš„ç¼“å†²åŒºå†…å®¹\n    commitBuffer()\n\n    // è¿”å›åˆ†å—ç»“æœ\n    return result\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-12 18:18:51\n * @LastEditTime: 2023-11-20 13:33:55\n * @FilePath: /i18n_translation_vite/vitePluginsAutoI18n/src/filter/visitor/StringLiteral.ts\n */\nimport * as types from '@babel/types'\nimport { baseUtils } from '../../utils/index'\nimport { option } from '../../option'\n\nexport default function (path: any) {\n    let { node, parent } = path\n    let value = node.value\n\n    // æ˜¯å¦å­˜åœ¨æ¥æºè¯­è¨€å­—ç¬¦ï¼Œæ˜¯å¦åœ¨é»˜è®¤å­—ç¬¦ä¸²ä¸­\n    if (\n        baseUtils.hasOriginSymbols(value) &&\n        option.excludedPattern.length &&\n        !baseUtils.checkAgainstRegexArray(value, [...option.excludedPattern])\n    ) {\n        // è·å–çœŸå®è°ƒç”¨å‡½æ•°\n        const extractFnName = baseUtils.extractFunctionName(parent)\n        // é˜²æ­¢å¯¼å…¥è¯­å¥ï¼Œåªå¤„ç†é‚£äº›å½“å‰èŠ‚ç‚¹ä¸æ˜¯é”®å€¼å¯¹çš„é”®çš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œè°ƒç”¨è¯­å¥åˆ¤æ–­å½“å‰è°ƒç”¨è¯­å¥æ˜¯å¦åŒ…å«éœ€è¦è¿‡æ»¤çš„è°ƒç”¨è¯­å¥\n        if (\n            types.isImportDeclaration(parent) ||\n            parent.key === node ||\n            (types.isCallExpression(parent) &&\n                extractFnName &&\n                option.excludedCall.includes(extractFnName))\n        )\n            return\n        let replaceNode\n        if (types.isJSXAttribute(parent)) {\n            let expression = baseUtils.createI18nTranslator(value, true)\n            replaceNode = types.jSXExpressionContainer(expression)\n        } else {\n            replaceNode = baseUtils.createI18nTranslator(value, true)\n        }\n        path.replaceWith(replaceNode)\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-12 18:18:51\n * @LastEditTime: 2025-02-14 10:33:39\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/filter/visitor/CallExpression.ts\n */\nimport types from '@babel/types'\nimport { translateUtils } from '../../utils/index'\nimport { option } from '../../option'\n\n// æ”¶é›†ç¿»è¯‘å¯¹è±¡\nexport default function (path: any) {\n    let { node } = path\n    if (node.callee.name === option.translateKey) {\n        let arg = node.arguments || []\n        const id = arg[0]?.value || ''\n        const value = arg[1]?.value || ''\n        if (id && value && types.isStringLiteral(arg[1])) {\n            translateUtils.setLangObj(id, value)\n        }\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-11-01 16:35:38\n * @LastEditTime: 2025-02-14 10:33:49\n * @FilePath: /i18n_translation_vite/packages/autoI18nPluginCore/src/filter/visitor/TemplateElement.ts\n */\nimport types from '@babel/types'\nimport { option } from '../../option'\nimport { baseUtils, translateUtils } from '../../utils'\n\nexport default function (path: any) {\n    let { node, parent } = path\n    if (!node.value) return\n\n    let value = node.value.raw || node.value.cooked // è·å–æ¨¡æ¿å­—ç¬¦ä¸²çš„å€¼\n    // æ˜¯å¦å­˜åœ¨æ¥æºè¯­è¨€å­—ç¬¦ï¼Œæ˜¯å¦åœ¨é»˜è®¤å­—ç¬¦ä¸²ä¸­ï¼Œæ˜¯å¦åŒ…å«è¿‡æ»¤å­—æ®µ\n    if (\n        baseUtils.hasOriginSymbols(value) &&\n        option.excludedPattern.length &&\n        !baseUtils.checkAgainstRegexArray(value, [...option.excludedPattern])\n    ) {\n        // è·å–çœŸå®è°ƒç”¨å‡½æ•°\n        const extractFnName = baseUtils.extractFunctionName(parent)\n        // è°ƒç”¨è¯­å¥åˆ¤æ–­å½“å‰è°ƒç”¨è¯­å¥æ˜¯å¦åŒ…å«éœ€è¦è¿‡æ»¤çš„è°ƒç”¨è¯­å¥\n        if (\n            types.isCallExpression(parent) &&\n            extractFnName &&\n            option.excludedCall.includes(extractFnName)\n        )\n            return\n\n        // ç”Ÿæˆå­—ç¬¦ç±»å‹ç¿»è¯‘èŠ‚ç‚¹\n        let newNode = baseUtils.createI18nTranslator(value)\n\n        // æ›¿æ¢ä¸ºå­—ç¬¦ç±»å‹ç¿»è¯‘èŠ‚ç‚¹\n        node.value.raw = node.value.cooked = `\\${${newNode}}`\n\n        let id = baseUtils.generateId(value)\n\n        if (id && value) {\n            translateUtils.setLangObj(id, value)\n        }\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-11-01 16:35:38\n * @LastEditTime: 2024-12-07 16:45:20\n * @FilePath: /i18n_translation_vite/autoI18nPluginCore/src/filter/visitor/JSXText.ts\n */\nimport * as types from '@babel/types'\nimport { baseUtils } from '../../utils'\nimport { option } from '../../option'\n\nexport default function (path: any) {\n    console.log('jsx text')\n\n    let { node } = path\n    let value = node.value\n    // æ˜¯å¦å­˜åœ¨æ¥æºè¯­è¨€å­—ç¬¦ï¼Œæ˜¯å¦åœ¨é»˜è®¤å­—ç¬¦ä¸²ä¸­\n    if (\n        baseUtils.hasOriginSymbols(value) &&\n        option.excludedPattern.length &&\n        !baseUtils.checkAgainstRegexArray(value, [...option.excludedPattern])\n    ) {\n        // ç”Ÿæˆç¿»è¯‘èŠ‚ç‚¹\n        let expression = baseUtils.createI18nTranslator(value, true)\n        // ç”Ÿæˆçš„ç¿»è¯‘èŠ‚ç‚¹åŒ…è£…åœ¨  types.JSXExpressionContainer  ä¸­\n        let newNode = types.jSXExpressionContainer(expression)\n        // ä½¿ç”¨  path.replaceWith  æ–¹æ³•å°†åŸæ¥çš„èŠ‚ç‚¹æ›¿æ¢ä¸ºæ–°çš„ç¿»è¯‘èŠ‚ç‚¹\n        path.replaceWith(newNode)\n    }\n}\n","/*\n * @Author: xiaoshanwen\n * @Date: 2023-10-12 18:00:37\n * @LastEditTime: 2023-11-02 10:36:02\n * @FilePath: /i18n_translation_vite/src/plugins/filter/index.ts\n */\n\nimport StringLiteral from './visitor/StringLiteral'\nimport CallExpression from './visitor/CallExpression'\nimport TemplateElement from './visitor/TemplateElement'\nimport JSXText from './visitor/JSXText'\n\nexport default function () {\n    return {\n        visitor: {\n            StringLiteral,\n            JSXText,\n            TemplateElement,\n            CallExpression\n        }\n    }\n}\n"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","OriginLangKeyEnum","TranslateApiEnum","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","pop","push","__spreadArray","to","from","pack","ar","l","slice","concat","SuppressedError","IntervalQueue","fn","delay","timeout","queue","isRunning","execute","_this","args","_i","run","setTimeout","Error","wait","_a","item","shift","_b","e_1","Translator","option","interval","fetchMethod","bind","getErrorMessage","error","message","translate","text","fromKey","toKey","name","console","error_1","GoogleTranslator","_super","fetchOptions","agent","tunnel","httpsOverHttp","proxy","proxyOption","YoudaoTranslator","salt","Date","getTime","curTime","Math","round","str","appId","truncate","appKey","sign","CryptoJS","SHA256","toString","enc","Hex","data","q","getTranslateKey","signType","curtime","axios","post","headers","response","translation","YOUDAO_TRANSLATE_KEY_CONVERT_MAP","len","substring","key","FunctionFactoryOption","originLang","REGEX_MAP","ZH","EN","hasOriginSymbols","code","test","checkAgainstRegexArray","regexArray","RegExp","extractFunctionName","node","callName","types","isCallExpression","isMemberExpression","callee","callObjName","callObj","property","object","extractStrings","fileContent","regex","matches","match","filter","index","indexOf","createI18nTranslator","isExpression","nameSpace","namespace","trimmedValue","trim","valStr","replace","generatedKey","generateId","valueExp","stringLiteral","extra","raw","rawValue","callExpression","identifier","translateKey","hash","charCodeAt","abs","cloneDeep","cache","WeakMap","has","get","source","flags","clone","isArray","set","keys_1","keys","getOwnPropertySymbols","sym","propertyIsEnumerable","fromCharCode","parseInt","DEFAULT_OPTION","excludedCall","excludedPattern","excludedPath","includePath","globalPath","distPath","distKey","targetLangList","langKey","buildToDist","translator","port","host","translatorOption","undefined","initOption","optionInfo","userOption","generateUserOption","checkOption","log","indentConfig","tab","char","size","space","configDefault","type","placeholderStorage","pushPlaceholder","popPlaceholder","_match","generateIndentation","count","indentType","join","jsonFormatter","json","config","jsonString","JSON","stringify","indent","output","indentLevel","charAt","formatJSON","initTranslateBasicFnFile","translateBasicFnText","indexPath","path","fs","existsSync","writeFileSync","initLangTranslateJSONFile","getLangTranslateJSONFile","filePath","readFileSync","getLangObjByJSONFileWithLangKey","insertJSONObj","JSONObj","parse","langObj","forEach","setLangTranslateJSONFile","obj","jsonObj","langObjMap","readdir","err","files","file","startsWith","endsWith","filePath_1","readFile","buildLangConfigString","info","mkdirSync","SEPARATOR","SPLIT_SEPARATOR_REGEX","setLangObj","getLangObj","completionTranslateAndWriteConfigFile","curLangObj","transLangObj","values","res","resultValues","split","map","newLangObjMap","configLangObj","fileUtils","originLangObjMap","lang","currentLangObj","langIndex","currentLang","translationChunks","maxChunkSize","SEP_LENGTH","buffer","currentSize","commitBuffer","actualLength","warn","values_1","neededSpace","chunkUtils","translatePromises","all","chunkResults","translatedValues","flat","needCompletionList","JSONobj","StringLiteral","parent","baseUtils","extractFnName","isImportDeclaration","includes","replaceNode","isJSXAttribute","expression","jSXExpressionContainer","replaceWith","CallExpression","arg","id","isStringLiteral","translateUtils","TemplateElement","cooked","newNode","JSXText","visitor"],"mappings":"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","x_google_ignoreList":[0]}