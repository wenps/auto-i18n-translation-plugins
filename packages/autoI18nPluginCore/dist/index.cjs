"use strict";var n=require("@vitalets/google-translate-api"),t=require("tunnel"),e=require("axios"),o=require("crypto-js"),r=require("@babel/types"),i=require("node:fs"),a=require("node:path");function c(n){var t=Object.create(null);return n&&Object.keys(n).forEach((function(e){if("default"!==e){var o=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,o.get?o:{enumerable:!0,get:function(){return n[e]}})}})),t.default=n,Object.freeze(t)}var s=c(r),l=function(n,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},l(n,t)};function u(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}l(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var p,f,g=function(){return g=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var r in t=arguments[e])Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},g.apply(this,arguments)};function h(n,t,e,o){return new(e||(e=Promise))((function(r,i){function a(n){try{s(o.next(n))}catch(n){i(n)}}function c(n){try{s(o.throw(n))}catch(n){i(n)}}function s(n){var t;n.done?r(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(a,c)}s((o=o.apply(n,t||[])).next())}))}function d(n,t){var e,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(e=1,o&&(r=2&c[0]?o.return:c[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,c[1])).done)return r;switch(o=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,o=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!r||c[1]>r[0]&&c[1]<r[3])){a.label=c[1];break}if(6===c[0]&&a.label<r[1]){a.label=r[1],r=c;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(c);break}r[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(n,a)}catch(n){c=[6,n],o=0}finally{e=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}function y(n,t,e){if(e||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,function(n){n.ZH="zh-cn",n.EN="en"}(p||(p={})),function(n){n.google="Google",n.youdao="Youdao"}(f||(f={}));var v,x=function(){function n(n,t,e){this.queue=[],this.isRunning=!1,this.fn=n,this.delay=t,this.timeout=e}return n.prototype.execute=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Promise((function(e,o){n.queue.push({args:t,resolve:e,reject:o}),n.run(),n.timeout&&setTimeout((function(){o(new Error("IntervalQueue timeout"))}),n.timeout)}))},n.prototype.wait=function(){return h(this,arguments,void 0,(function(n){return void 0===n&&(n=this.delay),d(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){return setTimeout(t,n)}))];case 1:return t.sent(),[2]}}))}))},n.prototype.run=function(){return h(this,void 0,void 0,(function(){var n,t,e,o,r,i;return d(this,(function(a){switch(a.label){case 0:if(this.isRunning)return[2];a.label=1;case 1:if(!(n=this.queue.shift()))return[3,7];t=n.args,e=n.resolve,o=n.reject,this.isRunning=!0,a.label=2;case 2:return a.trys.push([2,4,,5]),r=e,[4,this.fn.apply(this,t)];case 3:return r.apply(void 0,[a.sent()]),[3,5];case 4:return i=a.sent(),o(i),[3,5];case 5:return[4,this.wait()];case 6:return a.sent(),[3,1];case 7:return this.isRunning=!1,[2]}}))}))},n}(),b=function(){function n(n){var t,e,o;this.option=n,this.option.interval&&(this.option.fetchMethod=(t=this.option.fetchMethod,e=this.option.interval,o=new x(t.bind(null),e),function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return o.execute.apply(o,n)}))}return n.prototype.getErrorMessage=function(n){return n instanceof Error?n.message:String(n)},n.prototype.translate=function(n,t,e){return h(this,void 0,void 0,(function(){var o,r,i;return d(this,(function(a){switch(a.label){case 0:o="",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.option.fetchMethod(n,t,e)];case 2:return o=a.sent(),[3,4];case 3:return r=a.sent(),i=this.option.name,console.error("ç¿»è¯‘api".concat(i?"ã€".concat(i,"ã€‘"):"","è¯·æ±‚å¼‚å¸¸ï¼š").concat(this.getErrorMessage(r))),[3,4];case 4:return[2,o]}}))}))},n}(),O=function(e){function o(o){var r=e.call(this,{name:"Googleç¿»è¯‘",fetchMethod:function(e,i,a){return h(r,void 0,void 0,(function(){return d(this,(function(r){switch(r.label){case 0:return[4,n.translate(e,{from:i,to:a,fetchOptions:{agent:t.httpsOverHttp({proxy:o.proxyOption})}})];case 1:return[2,r.sent().text||""]}}))}))}})||this;return r}return u(o,e),o}(b),w=function(n){function t(t){var r,i=n.call(this,{name:"æœ‰é“ç¿»è¯‘",fetchMethod:function(n,r,a){return h(i,void 0,void 0,(function(){var i,c,s,l,u,p,f;return d(this,(function(g){switch(g.label){case 0:return i=(new Date).getTime(),c=Math.round((new Date).getTime()/1e3),s=t.appId+this.truncate(n)+i+c+t.appKey,l=o.SHA256(s).toString(o.enc.Hex),u={q:n,appKey:t.appId,salt:i,from:this.getTranslateKey(r),to:this.getTranslateKey(a),sign:l,signType:"v3",curtime:c},[4,e.post("https://openapi.youdao.com/api",u,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},proxy:t.proxy})];case 1:return p=g.sent(),[2,(null===(f=p.data.translation)||void 0===f?void 0:f[0])||""]}}))}))},interval:null!==(r=t.interval)&&void 0!==r?r:1e3})||this;return i.YOUDAO_TRANSLATE_KEY_CONVERT_MAP={"zh-cn":"zh-CHS","zh-tw":"zh-CHT"},i}return u(t,n),t.prototype.truncate=function(n){if(n.length<=20)return n;var t=n.length;return n.substring(0,10)+t+n.substring(t-10)},t.prototype.getTranslateKey=function(n){return this.YOUDAO_TRANSLATE_KEY_CONVERT_MAP[n]||n},t}(b),S=Object.freeze({__proto__:null,GoogleTranslator:O,Translator:b,YoudaoTranslator:w}),j=function(){function n(){}return n.originLang="",n}(),m=((v={})[p.ZH]=/[\u4e00-\u9fff]/,v[p.EN]=/[a-zA-Z]/,v);function E(n){var t=j.originLang;return m[t].test(n)}function L(n,t){for(var e=0;e<t.length;e++){if(("string"==typeof t[e]?new RegExp(t[e]):t[e]).test(n))return!0}return!1}function T(n){var t="";return r.isCallExpression(n)&&(t=r.isMemberExpression(n.callee)?function n(t,e){return e+="."+t.property.name,r.isMemberExpression(t.object)?n(t.object,e):e=t.object.name+e}(n.callee,""):n.callee.name||""),t}function N(n,t){var e=n.match(t);return e?e.filter((function(n,t){return e.indexOf(n)===t})):[]}function _(n,t,e){var o=exports.option.namespace,i=n.trim(),a=i.replace(/'/g,'"').replace(/(\n)/g,"\\n"),c=e||k(a);if(t){var s=r.stringLiteral(i);return s.extra={raw:"'".concat(a,"'"),rawValue:i},r.callExpression(r.identifier(exports.option.translateKey),[r.stringLiteral(c),s,r.stringLiteral(o)])}return"".concat(exports.option.translateKey,"('").concat(c,"','").concat(a,"','").concat(o,"')")}function k(n){for(var t=0,e=0;e<n.length;e++){t=(t<<5)-t+n.charCodeAt(e),t|=0}return Math.abs(t).toString(36)+n.length.toString(36)}var P=function(n){return n.replace(/\\u[\dA-Fa-f]{4}/g,(function(n){return String.fromCharCode(parseInt(n.replace(/\\u/g,""),16))}))};function J(n,t){if(void 0===t&&(t=new WeakMap),"object"!=typeof n||null===n)return n;if(t.has(n))return t.get(n);if(n instanceof Date)return new Date(n);if(n instanceof RegExp)return new RegExp(n.source,n.flags);var e=Array.isArray(n)?[]:{};t.set(n,e);for(var o=0,r=y(y([],Object.keys(n),!0),Object.getOwnPropertySymbols(n).filter((function(t){return n.propertyIsEnumerable(t)})),!0);o<r.length;o++){var i=r[o];e[i]=J(n[i],t)}return e}var A=Object.freeze({__proto__:null,checkAgainstRegexArray:L,cloneDeep:J,createI18nTranslator:_,extractCnStrings:function(n){return N(n,/[^\x00-\xff]+/g)},extractFunctionName:T,extractStrings:N,generateId:k,hasOriginSymbols:E,removeComments:function(n){return n=(n=(n=n.replace(/\/\/.*?\n/g,"")).replace(/\/\*[\s\S]*?\*\//g,"")).replace(/<!--[\s\S]*?-->/g,"")},truncate:function(n){if(n.length<=20)return n;var t=n.length;return n.substring(0,10)+t+n.substring(t-10)},unicodeToChinese:P}),K={translateKey:"$t",excludedCall:["$i8n","console.log","$t","require","$$i8n"],excludedPattern:[/\.\w+$/],excludedPath:["node_modules"],includePath:[/src\//,/src\\/],globalPath:"./lang",distPath:"",distKey:"index",originLang:p.ZH,targetLangList:["en"],langKey:[],namespace:"lang",buildToDist:!1,translator:new O({proxyOption:{port:7890,host:"127.0.0.1",headers:{"User-Agent":"Node"}}}),translatorOption:void 0};exports.option=g({},K);var C={tab:{char:"\t",size:1},space:{char:" ",size:4}},z={type:"tab"},F=[],R=function(n){return"\\".concat(F.push(n),"\\")},M=function(n,t){return F[+t-1]},D=function(n,t){return new Array(n+1).join(t)};function q(n,t){void 0===t&&(t=z);var e="string"==typeof n?n:JSON.stringify(n),o=C[t.type];if(!o)throw new Error('Unrecognized indent type: "'.concat(t.type,'"'));return function(n,t){F=[];var e="",o=0;n=n.replace(/\\./g,R).replace(/(".*?"|'.*?')/g,R).replace(/\s+/g,"");for(var r=0;r<n.length;r++){var i=n.charAt(r);switch(i){case"{":case"[":e+=i+"\n"+D(++o,t);break;case"}":case"]":e+="\n"+D(--o,t)+i;break;case",":e+=",\n"+D(o,t);break;case":":e+=": ";break;default:e+=i}}return e.replace(/\[[\d,\s]+?\]/g,(function(n){return n.replace(/\s/g,"")})).replace(/\\(\d+)\\/g,M).replace(/\\(\d+)\\/g,M)}(e,D(t.size||o.size,o.char))}function I(){var n=exports.option.translateKey,t=exports.option.namespace,e=exports.option.originLang,o=y(y([],exports.option.targetLangList,!0),[e],!1).map((function(n){return n.replace("-","")})).map((function(n){return"'".concat(n,"': window?.").concat(t,"?.").concat(n," || window._getJSONKey('").concat(n,"', langJSON)")})).join(",\n"),r="\n    // å¯¼å…¥å›½é™…åŒ–JSONæ–‡ä»¶\n    import langJSON from './index.json'\n    (function () {\n    // å®šä¹‰ç¿»è¯‘å‡½æ•°\n    let ".concat(n," = function (key, val, nameSpace) {\n      // è·å–æŒ‡å®šå‘½åç©ºé—´ä¸‹çš„è¯­è¨€åŒ…\n      const langPackage = ").concat(n,"[nameSpace];\n      // è¿”å›ç¿»è¯‘ç»“æœï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å›é»˜è®¤å€¼\n      return (langPackage || {})[key] || val;\n    };\n    // å®šä¹‰ç®€å•ç¿»è¯‘å‡½æ•°ï¼Œç›´æ¥è¿”å›ä¼ å…¥çš„å€¼\n    let $").concat(n," = function (val) {\n      return val;\n    };\n    // å®šä¹‰è®¾ç½®è¯­è¨€åŒ…çš„æ–¹æ³•\n    ").concat(n,".locale = function (locale, nameSpace) {\n      // å°†æŒ‡å®šå‘½åç©ºé—´ä¸‹çš„è¯­è¨€åŒ…è®¾ç½®ä¸ºä¼ å…¥çš„locale\n      ").concat(n,"[nameSpace] = locale || {};\n    };\n    // å°†ç¿»è¯‘å‡½æ•°æŒ‚è½½åˆ°windowå¯¹è±¡ä¸Šï¼Œå¦‚æœå·²ç»å­˜åœ¨åˆ™ä½¿ç”¨å·²æœ‰çš„\n    window.").concat(n," = window.").concat(n," || ").concat(n,";\n    // å°†ç®€å•ç¿»è¯‘å‡½æ•°æŒ‚è½½åˆ°windowå¯¹è±¡ä¸Š\n    window.$").concat(n," = $").concat(n,";\n    // å®šä¹‰ä»JSONæ–‡ä»¶ä¸­è·å–æŒ‡å®šé”®çš„è¯­è¨€å¯¹è±¡çš„æ–¹æ³•\n    window._getJSONKey = function (key, insertJSONObj = undefined) {\n        // è·å–JSONå¯¹è±¡\n        const JSONObj = insertJSONObj;\n        // åˆå§‹åŒ–è¯­è¨€å¯¹è±¡\n        const langObj = {};\n        // éå†JSONå¯¹è±¡çš„æ‰€æœ‰é”®\n        Object.keys(JSONObj).forEach((value) => {\n            // å°†æ¯ä¸ªè¯­è¨€çš„å¯¹åº”é”®å€¼æ·»åŠ åˆ°è¯­è¨€å¯¹è±¡ä¸­\n            langObj[value] = JSONObj[value][key];\n        });\n        // è¿”å›è¯­è¨€å¯¹è±¡\n        return langObj;\n    };\n    })();\n    // å®šä¹‰è¯­è¨€æ˜ å°„å¯¹è±¡\n    const langMap = {\n        ").concat(o,"\n    };\n    // ä»æœ¬åœ°å­˜å‚¨ä¸­è·å–å½“å‰è¯­è¨€ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨æºè¯­è¨€\n    const lang = window.localStorage.getItem('").concat(t,"') || '").concat(e.replace("-",""),"';\n    // æ ¹æ®å½“å‰è¯­è¨€è®¾ç½®ç¿»è¯‘å‡½æ•°çš„è¯­è¨€åŒ…\n    window.").concat(n,".locale(langMap[lang], '").concat(t,"');\n  "),c=a.join(exports.option.globalPath,"index.js"),s=!0;i.existsSync(c)&&(s=k(r)!==k(i.readFileSync(c,"utf-8")));s&&i.writeFileSync(c,r)}function $(){var n=a.join(exports.option.globalPath,"index.json");i.existsSync(n)||i.writeFileSync(n,JSON.stringify({}))}function H(){var n=a.join(exports.option.globalPath,"index.json");try{return i.readFileSync(n,"utf-8")}catch(n){return"ENOENT"===n.code?console.log("âŒè¯»å–JSONé…ç½®æ–‡ä»¶å¼‚å¸¸ï¼Œæ–‡ä»¶ä¸å­˜åœ¨"):console.log("âŒè¯»å–JSONé…ç½®æ–‡ä»¶å¼‚å¸¸ï¼Œæ— æ³•è¯»å–æ–‡ä»¶"),JSON.stringify({})}}function U(n,t){void 0===t&&(t=void 0);var e=t||JSON.parse(H()),o={};return Object.keys(e).forEach((function(t){o[t]=e[t][n]})),o}function W(n){var t=a.join(exports.option.globalPath,"index.json"),e=q(n);i.existsSync(t)?i.writeFileSync(t,e):console.log("âŒJSONé…ç½®æ–‡ä»¶å†™å…¥å¼‚å¸¸ï¼Œæ–‡ä»¶ä¸å­˜åœ¨")}var Y=Object.freeze({__proto__:null,buildSetLangConfigToIndexFile:function(){if(exports.option.buildToDist){var n={};exports.option.langKey.forEach((function(t){n[t]=U(t)})),i.existsSync(exports.option.distPath)&&i.readdir(exports.option.distPath,(function(t,e){t?console.error("âŒæ„å»ºæ–‡ä»¶å¤¹ä¸ºç©ºï¼Œç¿»è¯‘é…ç½®æ— æ³•å†™å…¥"):e.forEach((function(t){if(t.startsWith(exports.option.distKey)&&t.endsWith(".js")){var e=a.join(exports.option.distPath,t);i.readFile(e,"utf-8",(function(t,o){if(t)return console.log(e),void console.error("âŒæ„å»ºä¸»æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç¿»è¯‘é…ç½®æ— æ³•å†™å…¥");var r="";Object.keys(n).forEach((function(t){r+="window['".concat(exports.option.namespace,"']['").concat(t,"']=").concat(JSON.stringify(n[t]),";")}));try{i.writeFileSync(e,"window['".concat(exports.option.namespace,"']={};").concat(r)+o),console.info("æ­å–œï¼šç¿»è¯‘é…ç½®å†™å…¥æ„å»ºä¸»æ–‡ä»¶æˆåŠŸğŸŒŸğŸŒŸğŸŒŸ")}catch(t){console.error("ç¿»è¯‘é…ç½®å†™å…¥æ„å»ºä¸»æ–‡ä»¶å¤±è´¥:",t)}}))}}))}))}},getLangObjByJSONFileWithLangKey:U,getLangTranslateJSONFile:H,initLangFile:function(){i.existsSync(exports.option.globalPath)||i.mkdirSync(exports.option.globalPath),$(),I()},initLangTranslateJSONFile:$,initTranslateBasicFnFile:I,setLangTranslateJSONFile:W}),G="\nâ”‡â”‡â”‡\n",X=/\nâ”‡ *â”‡ *â”‡\n/,Z={};function V(n,t){Z[n]||(Z[n]=t)}function B(){return Z}function Q(n,t,e){return h(this,void 0,void 0,(function(){var o,r,i,a,c,s;return d(this,(function(l){switch(l.label){case 0:return o={},Object.keys(n).forEach((function(e){t[e]||(o[e]=n[e])})),Object.values(o).length?(r=Object.values(o).join(G),console.info("è¿›å…¥æ–°å¢è¯­è¨€è¡¥å…¨ç¿»è¯‘..."),[4,exports.option.translator.translate(r,exports.option.originLang,e)]):[2];case 1:if(i=l.sent(),(a=i.split(X).map((function(n){return n.trim()}))).length!==Object.values(n).length)return console.error("ç¿»è¯‘å¼‚å¸¸ï¼Œç¿»è¯‘ç»“æœç¼ºå¤±âŒ"),[2];c=a,console.info("ç¿»è¯‘æˆåŠŸâ­ï¸â­ï¸â­ï¸"),Object.keys(o).forEach((function(n,e){t[n]=c[e]})),console.log("å¼€å§‹å†™å…¥JSONé…ç½®æ–‡ä»¶..."),s=JSON.parse(H()),Object.keys(o).forEach((function(n){s[n][e]=t[n]}));try{W(s),console.info("JSONé…ç½®æ–‡ä»¶å†™å…¥æˆåŠŸâ­ï¸â­ï¸â­ï¸")}catch(n){console.error("âŒJSONé…ç½®æ–‡ä»¶å†™å…¥å¤±è´¥"+n)}return console.info("æ–°å¢è¯­è¨€ç¿»è¯‘è¡¥å…¨æˆåŠŸâ­ï¸â­ï¸â­ï¸"),[2]}}))}))}var nn=Object.freeze({__proto__:null,SEPARATOR:G,SPLIT_SEPARATOR_REGEX:X,autoTranslate:function(){return h(this,void 0,void 0,(function(){var n,t,e,o,r,i,a,c,s,l,u,p;return d(this,(function(f){switch(f.label){case 0:if(n={},exports.option.langKey.forEach((function(t){n[t]=U(t)})),t=JSON.parse(JSON.stringify(B())),e={},Object.keys(t).forEach((function(o){n[exports.option.originLang][o]||(e[o]=t[o])})),0===Object.keys(e).length)return console.info("âœ… å½“å‰æ²¡æœ‰éœ€è¦ç¿»è¯‘çš„æ–°å†…å®¹"),[2];o={},r=0,f.label=1;case 1:if(!(r<exports.option.langKey.length))return[3,4];if(i=exports.option.langKey[r],0===r)return o[exports.option.originLang]=Object.values(e),[3,3];for(console.info("å¼€å§‹è‡ªåŠ¨ç¿»è¯‘..."),a=function(n,t){void 0===t&&(t=4500);for(var e=G.length,o=[],r=[],i=0,a=function(){if(r.length>0){var n=r.join(G).length;n>t&&console.warn("ç¼“å†²åŒºæäº¤å¼‚å¸¸ï¼šç”Ÿæˆå—é•¿åº¦ ".concat(n," è¶…è¿‡é™åˆ¶")),o.push(r.join(G)),r=[],i=0}},c=0,s=n;c<s.length;c++){var l=s[c],u=l.length+(r.length>0?e:0);l.length>t?(r.length>0&&a(),l.length>1.5*t&&console.warn("è¶…é•¿æ–‡æœ¬å‘Šè­¦ï¼šæ£€æµ‹åˆ°é•¿åº¦ ".concat(l.length," å­—ç¬¦çš„æ–‡æœ¬é¡¹ï¼Œå¯èƒ½å½±å“ç¿»è¯‘è´¨é‡")),o.push(l)):(i+u>t&&a(),i+=u,r.push(l))}return a(),o}(Object.values(e)),c=[],s=0;s<a.length;s++)c.push(exports.option.translator.translate(a[s],exports.option.originLang,exports.option.langKey[r]));return[4,Promise.all(c)];case 2:if(l=f.sent(),(u=l.map((function(n){return n.split(X).map((function(n){return n.trim()}))})).flat()).length!==Object.keys(e).length)return console.error("âŒ ç¿»è¯‘ç»“æœä¸å®Œæ•´\n                é¢„æœŸæ•°é‡: ".concat(Object.keys(e).length,"\n                å®é™…æ•°é‡: ").concat(u.length,"\n                æ ·ä¾‹æ•°æ®: ").concat(JSON.stringify(u.slice(0,3)))),[2];o[i]=u,console.info("âœ… ".concat(i," ç¿»è¯‘å®Œæˆ")),f.label=3;case 3:return r++,[3,1];case 4:Object.keys(e).forEach((function(t,e){exports.option.langKey.forEach((function(r){n[r][t]=o[r][e]}))})),console.log("ğŸ“„ æ„å»ºé…ç½®æ–‡ä»¶æ•°æ®ç»“æ„..."),p={},Object.keys(n[exports.option.originLang]).forEach((function(t){p[t]={},exports.option.langKey.forEach((function(e){p[t][e]=n[e][t]}))}));try{W(p),console.info("ğŸ‰ å¤šè¯­è¨€é…ç½®æ–‡ä»¶å·²æˆåŠŸæ›´æ–°")}catch(n){console.error("âŒ é…ç½®æ–‡ä»¶å†™å…¥å¤±è´¥ï¼ŒåŸå› :",n)}return[2]}}))}))},completionTranslateAndWriteConfigFile:Q,getLangObj:B,initLangObj:function(n){Object.keys(Z)||(Z=n)},get langObj(){return Z},languageConfigCompletion:function(n){var t=this;if(Object.keys(n)){var e=[],o=JSON.parse(H());exports.option.targetLangList.forEach((function(n){var t=U(n,o);e.push({key:n,curLangObj:t})})),e.forEach((function(e){return h(t,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,Q(n,e.curLangObj,e.key)];case 1:return t.sent(),[2]}}))}))}))}},setLangObj:V});function tn(n){var t=n.node,e=n.parent,o=t.value;if(exports.option.originLang.includes("zh-cn")||"zh-cn"===exports.option.originLang)try{o=P(o)}catch(n){console.log("è½¬æ¢å¼‚å¸¸")}if(E(o)&&exports.option.excludedPattern.length&&!L(o,y([],exports.option.excludedPattern,!0))){var r=T(e);if(s.isImportDeclaration(e)||e.key===t||s.isCallExpression(e)&&r&&exports.option.excludedCall.includes(r))return;var i=void 0;if(s.isJSXAttribute(e)){var a=_(o,!0);i=s.jSXExpressionContainer(a)}else i=_(o,!0);n.replaceWith(i)}}function en(n){var t,e,o=n.node;if(o.callee.name===exports.option.translateKey){var i=o.arguments||[],a=(null===(t=i[0])||void 0===t?void 0:t.value)||"",c=(null===(e=i[1])||void 0===e?void 0:e.value)||"";a&&c&&r.isStringLiteral(i[1])&&V(a,c)}}function on(n){var t=n.node,e=n.parent;if(t.value){var o=t.value.raw||t.value.cooked;if(exports.option.originLang.includes("zh-cn")||"zh-cn"===exports.option.originLang)try{o=P(o)}catch(n){console.log("è½¬æ¢å¼‚å¸¸")}if(o&&E(o)&&exports.option.excludedPattern.length&&!L(o,y([],exports.option.excludedPattern,!0))){var i=T(e);if(r.isCallExpression(e)&&i&&exports.option.excludedCall.includes(i))return;var a=_(o);t.value.raw=t.value.cooked="${".concat(a,"}");var c=k(o);c&&o&&V(c,o)}}}function rn(n){console.log("jsx text");var t=n.node.value;if(exports.option.originLang.includes("zh-cn")||"zh-cn"===exports.option.originLang)try{t=P(t)}catch(n){console.log("è½¬æ¢å¼‚å¸¸")}if(E(t)&&exports.option.excludedPattern.length&&!L(t,y([],exports.option.excludedPattern,!0))){var e=_(t,!0),o=s.jSXExpressionContainer(e);n.replaceWith(o)}}var an=Object.freeze({__proto__:null,default:function(){return{visitor:{StringLiteral:tn,JSXText:rn,TemplateElement:on,CallExpression:en}}}});exports.FunctionFactoryOption=j,exports.GoogleTranslator=O,exports.Translator=b,exports.YoudaoTranslator=w,exports.baseUtils=A,exports.checkOption=function(){return exports.option.translateKey?exports.option.namespace?exports.option.buildToDist&&!exports.option.distKey?(console.log("âŒè¯·é…ç½®æ‰“åŒ…åç”Ÿæˆæ–‡ä»¶çš„ä¸»æ–‡ä»¶åç§°"),!1):exports.option.buildToDist&&!exports.option.distPath?(console.log("âŒè¯·é…ç½®æ‰“åŒ…åç”Ÿæˆæ–‡ä»¶çš„ä½ç½®"),!1):exports.option.originLang?!(!exports.option.targetLangList||!exports.option.targetLangList.length)||(console.error("âŒè¯·é…ç½®ç›®æ ‡ç¿»è¯‘è¯­è¨€æ•°ç»„"),!1):(console.error("âŒè¯·é…ç½®æ¥æºè¯­è¨€"),!1):(console.error("âŒè¯·é…ç½®å‘½åç©ºé—´"),!1):(console.error("âŒè¯·é…ç½®ç¿»è¯‘è°ƒç”¨å‡½æ•°"),!1)},exports.fileUtils=Y,exports.filter=an,exports.initOption=function(n){exports.option=g(g({},K),function(n){var t=J(n);return t.translator=null==n?void 0:n.translator,t.translator||(t.translator=t.translatorOption?new b(t.translatorOption):void 0),t.translator||delete t.translator,t}(n)),exports.option.langKey=y([exports.option.originLang],exports.option.targetLangList,!0)},exports.translateUtils=nn,exports.translator=S;
//# sourceMappingURL=index.cjs.map
